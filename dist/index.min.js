"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,i){if(null==t)throw new TypeError("null to object");for(var s=Object(t),n=1;n<arguments.length;n++){var h=arguments[n];if(null!=h)for(var e in h)Object.prototype.hasOwnProperty.call(h,e)&&(s[e]=h[e])}return s},writable:!0,t:!0}),"function"!=typeof Array.from&&(Array.from=function(t){return[].slice.call(t)});var n=function(t){var i=document.implementation.createHTMLDocument("");return i.body.innerHTML=t,Array.from(i.body.children)[0]},e=function(t,i){var s=document.createEvent("HTMLEvents");s.initEvent(i,!0,!1),t.dispatchEvent(s)},t=function(){function t(t,i){this.i=t,this.h=1,this.o=1,this.offset={x:0,y:0},this.u={x:0,y:0},this.l=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),this.options=Object.assign({},this.m,i),this.v(),this.p(),this.update(),this.g(this.i)&&(this.M(),this.A()),this.enable()}function i(t,i){return t+i}t.prototype={m:{O:2,D:1.3,animationDuration:300,maxZoom:4,minZoom:.5,Z:!0,N:!1,T:!1,_:!0,j:!1,k:"pz_zoomstart",C:"pz_zoomupdate",F:"pz_zoomend",I:"pz_dragstart",P:"pz_dragupdate",S:"pz_dragend",U:"pz_doubletap",W:"pz_mousewheel",Y:0,q:0,G:null,L:null,R:null,H:null,V:null,X:null,B:null,J:null},K:function(t){e(this.i,this.options.I),"function"==typeof this.options.H&&this.options.H(this,t),this.$(),this.tt=!1,this.it=!0,this.st(t)},st:function(t){"touchend"!==t.type&&(t="touchmove"===t.type?this.nt(t)[0]:this.ht(t),this.et(t,this.tt),this.offset=this.ot(this.offset),this.tt=t)},ut:function(){e(this.i,this.options.S),"function"==typeof this.options.V&&this.options.V(this,event),this.end()},rt:function(t){e(this.i,this.options.k),"function"==typeof this.options.G&&this.options.G(this,t),this.$(),this.o=1,this.ct=0,this.ft=!1,this.it=!0},dt:function(t,i){var t=this.lt(this.nt(t)),s=i/this.o;this.o=i,this.ct+=1,3<this.ct&&(this.scale(s,t),this.et(t,this.ft)),this.ft=t},vt:function(){e(this.i,this.options.F),"function"==typeof this.options.L&&this.options.L(this,event),this.end()},gt:function(t){var i=this.nt(t)[0],s=1<this.h?1:this.options.O,n=this.h,h=function(t){this.yt(n+t*(s-n),i)}.bind(this);this.it||(this.zt=!0,s<n&&(i=this.xt()),this.animate(this.options.animationDuration,h,this.Mt),e(this.i,this.options.U),"function"==typeof this.options.B&&this.options.B(this,t))},bt:function(){this.u={x:-Math.abs(this.i.offsetWidth*this.wt()-this.At.offsetWidth)/2,y:-Math.abs(this.i.offsetHeight*this.wt()-this.At.offsetHeight)/2}},Et:function(){this.offset.x=this.u.x,this.offset.y=this.u.y},g:function(t){return"IMG"===t.nodeName?t.complete&&0!==t.naturalHeight:Array.from(t.querySelectorAll("img")).every(this.g)},A:function(){this.options.T&&this.Ot||(this.Ot=!0,this.bt(),this.Et())},ot:function(t){var i=this.i.offsetWidth*this.wt()*this.h,s=this.i.offsetHeight*this.wt()*this.h,i=i-this.Dt()+this.options.q,s=s-this.Zt()+this.options.Y,n=Math.max(i,0),h=Math.max(s,0),i=Math.min(i,0)-this.options.q,s=Math.min(s,0)-this.options.Y;return{x:Math.min(Math.max(t.x,i),n),y:Math.min(Math.max(t.y,s),h)}},yt:function(t,i){this.scale(t/this.h,i)},scale:function(t,i){t={x:((t=this.Nt(t))-1)*(i.x+this.offset.x),y:(t-1)*(i.y+this.offset.y)};this.Tt(t),e(this.i,this.options.C),"function"==typeof this.options.R&&this.options.R(this,event)},Nt:function(t){var i=this.h;return this.h*=t,this.h=Math.min(this.options.maxZoom,Math.max(this.h,this.options.minZoom)),this.h/i},_t:function(){return this.options.Z||(t=this.h,!((i=1)-.01<t&&t<i+.01));var t,i},et:function(t,i){i&&(this.options.N?Math.abs(t.x-i.x)>Math.abs(t.y-i.y)?this.Tt({x:-(t.x-i.x),y:0}):this.Tt({y:-(t.y-i.y),x:0}):this.Tt({y:-(t.y-i.y),x:-(t.x-i.x)}),e(this.i,this.options.P),"function"==typeof this.options.X)&&this.options.X(this,event)},lt:function(t){return this.jt(t)},jt:function(t){return{x:t.map(function(t){return t.x}).reduce(i)/t.length,y:t.map(function(t){return t.y}).reduce(i)/t.length}},Tt:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},kt:function(){this.h<this.options.D?this.Ct():this.Ft(this.offset)&&this.It()},Ft:function(t){var i=this.ot(t);return i.x!==t.x||i.y!==t.y},It:function(){var i=this.ot(this.offset),s=this.offset.x,n=this.offset.y,t=function(t){this.offset.x=s+t*(i.x-s),this.offset.y=n+t*(i.y-n),this.update()}.bind(this);this.animate(this.options.animationDuration,t,this.Mt)},Ct:function(){var i,s,t;1!==this.h&&(i=this.h,s=this.xt(),t=function(t){this.yt(i+t*(1-i),s)}.bind(this),this.animate(this.options.animationDuration,t,this.Mt))},M:function(){this.Pt(),this.St(this.At.parentElement.offsetHeight)},wt:function(){var t=this.At.offsetWidth/this.i.offsetWidth,i=this.At.offsetHeight/this.i.offsetHeight;return Math.min(t,i)},Ut:function(){return this.i.offsetWidth/this.i.offsetHeight},xt:function(){var t=this.offset.x-this.u.x,t=-1*this.offset.x-t/(1/this.h-1),i=this.offset.y-this.u.y;return{x:t,y:-1*this.offset.y-i/(1/this.h-1)}},nt:function(t){var i=this.At.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft,h=i.top+s,e=i.left+n;return t.touches?Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-e,y:t.pageY-h}}):[{x:t.pageX-e,y:t.pageY-h}]},ht:function(t){var i=this.At.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft,s=i.top+s,i=i.left+n;return{x:t.pageX-i,y:t.pageY-s}},animate:function(s,n,h,e){var o=(new Date).getTime(),a=function(){var t,i;this.Wt&&(i=(t=(new Date).getTime()-o)/s,s<=t?(n(1),e&&e(),this.update(),this.$(),this.update()):(h&&(i=h(i)),n(i),this.update(),requestAnimationFrame(a)))}.bind(this);this.Wt=!0,requestAnimationFrame(a)},$:function(){this.Wt=!1},Mt:function(t){return-Math.cos(t*Math.PI)/2+.5},Dt:function(){return this.At.offsetWidth},Zt:function(){return this.At.offsetHeight},St:function(t){return this.At.style.height=t+"px"},Pt:function(){this.At.style.height=null},v:function(){this.At=document.querySelector("div.pinch-zoom-container"),this.At||(this.At=n('<div class="pinch-zoom-container"></div>'),this.i.parentNode.insertBefore(this.At,this.i),this.At.appendChild(this.i)),this.At.style.overflow="auto",this.At.style.position="relative",this.i.style.webkitTransformOrigin="0% 0%",this.i.style.Yt="0% 0%",this.i.style.msTransformOrigin="0% 0%",this.i.style.qt="0% 0%",this.i.style.transformOrigin="0% 0%",this.i.style.position="absolute",this.i.style.backfaceVisibility="hidden",this.i.style.willChange="transform"},end:function(){this.it=!1,this.kt(),this.update()},p:function(){var i=this;s(this.At,this,this.i),this.Gt=this.update.bind(this),window.addEventListener("resize",this.Gt),Array.from(this.i.querySelectorAll("img")).forEach(function(t){t.addEventListener("load",i.update.bind(i))}),"IMG"===this.i.nodeName&&this.i.addEventListener("load",this.update.bind(this))},update:function(t){t&&"resize"===t.type&&(this.M(),this.A()),t&&"load"===t.type&&(this.M(),this.A()),this.Lt||(this.Lt=!0,window.setTimeout(function(){this.Lt=!1;var t=this.wt()*this.h,i=-this.offset.x/t,s=-this.offset.y/t,n="scale3d("+t+", "+t+",1) translate3d("+i+"px,"+s+"px,0px)",t="scale("+t+", "+t+") translate("+i+"px,"+s+"px)",i=function(){this.clone&&(this.clone.parentNode.removeChild(this.clone),delete this.clone)}.bind(this);!this.options._||this.it||this.Wt?(this.Rt=!0,i(),this.i.style.webkitTransform=n,this.i.style.Ht=t,this.i.style.msTransform=t,this.i.style.Vt=t,this.i.style.transform=n):(this.Rt&&(this.clone=this.i.cloneNode(!0),this.clone.style.pointerEvents="none",this.At.appendChild(this.clone),window.setTimeout(i,200)),this.i.style.webkitTransform=t,this.i.style.Ht=t,this.i.style.msTransform=t,this.i.style.Vt=t,this.i.style.transform=t,this.Rt=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},Xt:function(){window.removeEventListener("resize",this.Gt),this.At&&(this.At.remove(),this.At=null)},reset:function(){this.h=1,this.o=1,this.offset={x:0,y:0},this.u={x:0,y:0},this.v(),this.p(),this.update(),this.g(this.i)&&(this.M(),this.A()),this.enable()}};var s=function(t,s,i){function n(t,i){if(u!==t){if(u&&!t)switch(u){case"zoom":s.vt(i);break;case"drag":s.ut(i)}switch(t){case"zoom":s.rt(i);break;case"drag":s.K(i)}}u=t}function h(t){2===r?n("zoom"):1===r&&s._t()?n("drag",t):n(null,t)}function e(t){return Array.from(t).map(function(t){return{x:t.pageX,y:t.pageY}})}function o(t,i){var s=t.x-i.x,t=t.y-i.y;return Math.sqrt(s*s+t*t)}function a(t){t.stopPropagation(),t.preventDefault()}var u=null,r=0,c=null,f=null,d=!1,l=!0;t.addEventListener("touchstart",function(t){if(s.enabled){l=!0,r=t.touches.length;var i=t,t=(new Date).getTime();if(t-(c=1<r?null:c)<300)switch(a(i),s.gt(i),u){case"zoom":s.vt(i);break;case"drag":s.ut(i)}else s.zt=!1;1===r&&(c=t)}},{passive:!1}),i.addEventListener("click",function(t){!s.enabled||d||s.l||(a(t=t),s.gt(t))},{passive:!1}),t.addEventListener("touchmove",function(t){if(s.enabled&&!s.zt){if(l)h(t),u&&a(t),f=e(t.touches);else{switch(u){case"zoom":2==f.length&&2==t.touches.length&&s.dt(t,function(t,i){t=o(t[0],t[1]);return o(i[0],i[1])/t}(f,e(t.touches)));break;case"drag":s.st(t)}u&&(a(t),s.update())}l=!1}},{passive:!1}),t.addEventListener("touchend",function(t){s.enabled&&(r=t.touches.length,h(t))}),s.options.j&&(i.addEventListener("mousedown",function(t){s.enabled&&(l=!0,d=!(r=1))},{passive:!0}),i.addEventListener("mousemove",function(t){s.enabled&&(l?(h(t),u&&a(t)):("drag"===u&&(d=!0,s.st(t)),u&&(a(t),s.update())),l=!1)},{passive:!1}),i.addEventListener("mouseup",function(t){s.enabled&&(r=0,h(t))},{passive:!0}))};return t},PinchZoom=t();export default PinchZoom;